<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Movimenti - Finanze 2026</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <h1>Movimenti</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="movements.html" class="active">Movimenti</a>
    <a href="charts.html">Grafici</a>
    <a href="settings.html">Impostazioni</a>
  </nav>
</header>

<main>
  <section class="form-section">
    <h2>Aggiungi movimento</h2>
    <form id="movimentoForm">
      <input type="text" id="descrizione" placeholder="Descrizione" required>
      <input type="number" step="0.01" id="importo" placeholder="Importo" required>
      <select id="tipo">
        <option value="entrata">Entrata</option>
        <option value="uscita">Uscita</option>
      </select>
      <button type="submit">Aggiungi</button>
    </form>
  </section>

  <section class="lista-section">
    <h2>Lista movimenti</h2>
    <table id="movimentiTable">
      <thead>
        <tr>
          <th>Descrizione</th>
          <th>Importo</th>
          <th>Tipo</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>
</main>

<script src="storage.js"></script>
<script src="state.js"></script>
<script src="app.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  app.initMovimenti();
  app.renderMovimenti();

  const form = document.getElementById('movimentoForm');
  form.addEventListener('submit', e => {
    e.preventDefault();
    const descrizione = document.getElementById('descrizione').value;
    const importo = parseFloat(document.getElementById('importo').value);
    const tipo = document.getElementById('tipo').value;
    app.aggiungiMovimento(descrizione, importo, tipo);
    form.reset();
    app.renderMovimenti();
  });
});
</script>
</body>
</html>
